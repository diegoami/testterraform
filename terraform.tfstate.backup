{"version":4,"terraform_version":"1.11.2","serial":13,"lineage":"2dfa8039-a5f0-573d-5d84-a324800a28fe","outputs":{"vm_ip":{"value":"Run 'virsh domifaddr test-vm' to get IP address","type":"string"}},"resources":[{"mode":"data","type":"template_file","name":"user_data","provider":"provider[\"registry.opentofu.org/hashicorp/template\"]","instances":[{"schema_version":0,"attributes":{"filename":null,"id":"3c67266ce4f981a7337125ee444a0501c447a4cbd87c4d05ee835c86504f2bbd","rendered":"#cloud-config\nusers:\n  - name: ubuntu\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAycb0ANZq7GtnwL/LD2evVP2Hdhv/OzAIKvc71qTde7 diego.amicabile@gmail.com\n\n\nfinal_message: \"VM is ready! SSH with: ssh ubuntu@VM_IP\"","template":"#cloud-config\nusers:\n  - name: ubuntu\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAycb0ANZq7GtnwL/LD2evVP2Hdhv/OzAIKvc71qTde7 diego.amicabile@gmail.com\n\n\nfinal_message: \"VM is ready! SSH with: ssh ubuntu@VM_IP\"","vars":null},"sensitive_attributes":[]}]},{"mode":"managed","type":"libvirt_cloudinit_disk","name":"commoninit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"id":"359f3b853f8d479b","meta_data":"\"instance-id\": \"vm-01\"\n\"local-hostname\": \"test-vm\"\n","name":"commoninit.iso","network_config":null,"path":"/tmp/terraform-provider-libvirt-cloudinit/cloudinit-359f3b853f8d479b.iso","size":43008,"user_data":"#cloud-config\nusers:\n  - name: ubuntu\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAycb0ANZq7GtnwL/LD2evVP2Hdhv/OzAIKvc71qTde7 diego.amicabile@gmail.com\n\n\nfinal_message: \"VM is ready! SSH with: ssh ubuntu@VM_IP\""},"sensitive_attributes":[],"dependencies":["data.template_file.user_data"]}]},{"mode":"managed","type":"libvirt_domain","name":"test_vm","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"autostart":null,"block_io_tune":null,"bootloader":null,"bootloader_args":null,"clock":null,"cpu":null,"cpu_tune":null,"create":null,"current_memory":null,"current_memory_unit":null,"default_io_thread":null,"description":null,"destroy":null,"devices":{"audios":null,"channels":null,"consoles":null,"controllers":null,"crypto":null,"disks":[{"acpi":null,"address":null,"alias":null,"auth":null,"backend_domain":null,"backing_store":null,"block_io":null,"boot":null,"device":null,"driver":null,"encryption":null,"geometry":null,"io_tune":null,"mirror":null,"model":null,"product":null,"raw_io":null,"read_only":null,"serial":null,"sgio":null,"shareable":null,"snapshot":null,"source":{"block":null,"cookies":null,"data_store":null,"dir":null,"encryption":null,"file":{"fd_group":null,"file":"/var/lib/libvirt/images/ubuntu-22.04.qcow2","sec_label":null},"index":null,"network":null,"nvme":null,"readahead":null,"reservations":null,"slices":null,"ssl":null,"startup_policy":null,"timeout":null,"vhost_user":null,"vhost_vdpa":null,"volume":null},"target":{"bus":"virtio","dev":"vda","removable":null,"rotation_rate":null,"tray":null},"throttle_filters":null,"transient":null,"vendor":null,"wwn":null},{"acpi":null,"address":null,"alias":null,"auth":null,"backend_domain":null,"backing_store":null,"block_io":null,"boot":null,"device":null,"driver":null,"encryption":null,"geometry":null,"io_tune":null,"mirror":null,"model":null,"product":null,"raw_io":null,"read_only":null,"serial":null,"sgio":null,"shareable":null,"snapshot":null,"source":{"block":null,"cookies":null,"data_store":null,"dir":null,"encryption":null,"file":{"fd_group":null,"file":"/tmp/terraform-provider-libvirt-cloudinit/cloudinit-359f3b853f8d479b.iso","sec_label":null},"index":null,"network":null,"nvme":null,"readahead":null,"reservations":null,"slices":null,"ssl":null,"startup_policy":null,"timeout":null,"vhost_user":null,"vhost_vdpa":null,"volume":null},"target":{"bus":"virtio","dev":"vdb","removable":null,"rotation_rate":null,"tray":null},"throttle_filters":null,"transient":null,"vendor":null,"wwn":null}],"emulator":null,"filesystems":null,"graphics":null,"hostdevs":null,"hubs":null,"inputs":null,"interfaces":[{"acpi":null,"address":null,"alias":null,"backend":null,"backend_domain":null,"bandwidth":null,"boot":null,"coalesce":null,"down_script":null,"driver":null,"filter_ref":null,"guest":null,"ip":null,"link":null,"mac":null,"managed":null,"model":{"type":"virtio"},"mtu":null,"port_forward":null,"port_options":null,"rom":null,"route":null,"script":null,"source":{"bridge":null,"client":null,"direct":null,"ethernet":null,"hostdev":null,"internal":null,"mcast":null,"network":{"bridge":null,"network":"default","port_group":null,"port_id":null},"null":null,"server":null,"udp":null,"user":null,"vdpa":null,"vds":null,"vhost_user":null},"target":null,"teaming":null,"trust_guest_rx_filters":null,"tune":null,"virtual_port":null,"vlan":null,"wait_for_ip":null}],"iommu":null,"leases":null,"mem_balloon":null,"memorydevs":null,"nvram":null,"panics":null,"parallels":null,"pstore":null,"redir_devs":null,"redir_filters":null,"rngs":null,"serials":null,"shmems":null,"smartcards":null,"sounds":null,"tpms":null,"videos":null,"vsock":null,"watchdogs":null},"features":null,"gen_id":null,"hwuuid":null,"id":null,"id_map":null,"io_thread_i_ds":null,"io_threads":null,"key_wrap":null,"launch_security":null,"maximum_memory":null,"maximum_memory_slots":null,"maximum_memory_unit":null,"memory":2048,"memory_backing":null,"memory_dump_core":null,"memory_tune":null,"memory_unit":"MiB","metadata":null,"name":"test-vm","numa_tune":null,"on_crash":null,"on_poweroff":null,"on_reboot":null,"os":{"acpi":null,"bios":null,"boot_devices":[{"dev":"hd"},{"dev":"network"}],"boot_menu":null,"cmdline":null,"dtb":null,"firmware":null,"firmware_info":null,"init":null,"init_args":null,"init_dir":null,"init_env":null,"init_group":null,"init_user":null,"initrd":null,"kernel":null,"loader":null,"loader_format":null,"loader_readonly":null,"loader_secure":null,"loader_stateless":null,"loader_type":null,"nv_ram":null,"shim":null,"sm_bios":null,"type":"hvm","type_arch":"x86_64","type_machine":"q35"},"perf":null,"pm":null,"resource":null,"running":null,"sec_label":null,"sys_info":null,"throttle_groups":null,"title":null,"type":"kvm","uuid":"cac3f5f0-9138-4892-b844-33d737d8c65b","vcpu":2,"vcpu_cpuset":null,"vcpu_current":null,"vcpu_placement":null,"vcpus":null},"sensitive_attributes":[],"dependencies":["data.template_file.user_data","libvirt_cloudinit_disk.commoninit","libvirt_pool.default","libvirt_volume.vm_disk"]}]},{"mode":"managed","type":"libvirt_pool","name":"default","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"allocation":29307592704,"allocation_unit":null,"available":671382888448,"available_unit":null,"capacity":700690481152,"capacity_unit":null,"features":null,"id":"a332c546-b596-4707-b8f0-c767fdbc9fe2","name":"default","refresh":null,"source":null,"target":{"encryption":null,"path":"/var/lib/libvirt/images","permissions":null,"timestamps":null},"type":"dir","uuid":"a332c546-b596-4707-b8f0-c767fdbc9fe2"},"sensitive_attributes":[]}]},{"mode":"managed","type":"libvirt_volume","name":"vm_disk","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"allocation":691728384,"allocation_unit":null,"backing_store":null,"capacity":2361393152,"capacity_unit":null,"create":{"content":{"url":"https://cloud-images.ubuntu.com/releases/22.04/release/ubuntu-22.04-server-cloudimg-amd64.img"}},"id":"/var/lib/libvirt/images/ubuntu-22.04.qcow2","key":"/var/lib/libvirt/images/ubuntu-22.04.qcow2","name":"ubuntu-22.04.qcow2","path":"/var/lib/libvirt/images/ubuntu-22.04.qcow2","physical":691721216,"physical_unit":null,"pool":"default","target":null,"type":null},"sensitive_attributes":[],"dependencies":["libvirt_pool.default"]}]}],"check_results":null}
